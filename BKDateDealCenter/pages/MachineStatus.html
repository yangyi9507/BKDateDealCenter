<!DOCTYPE html>
<html>
   <head>
       <meta charset="utf-8">
       <script  src="../Scripts/echarts0827.min.js"></script>
       <script  src="../Scripts/dataTool.min.js"></script>
       <script src="../Scripts/china.js"></script>       
       <script src="../Scripts/bmap.min.js"></script>

       <style type="text/css">
        *{
            margin: 0;
            padding: 0;
        }
        .main{
            width: 100%;
            height: 100%;
            position: absolute;
        }
        .quarter-div{
            width: 46%;
            height: 46%;
            float: left;
            margin-left: 2%;
        }
    </style>
   </head>
   <body>
        <div class="main">
            <div class="quarter-div" id="container"></div>
            <div class="quarter-div" id="mains"></div>
            <div class="quarter-div" id="hegelv"></div>
            <div class="quarter-div" id="paichan"></div>
        </div>
   </body>

   <script type="text/javascript">
        var dom = document.getElementById("container");
        var myChart = echarts.init(dom);
        var app = {};
        var colors = ['#75d874', '#c0c0c0','red']; //三种状态的颜色
        var state = ['运行', '停止','宕机']; //三种状态

        // echart配置
        var option = {
            title: {
                text: '机器状态',
                left: 'center',
                top: '1%'
            },
            color: colors,
            tooltip: {//提示框
                formatter: function (params) {
                    return params.name + ':<br/>' + params.value[1] + '~' + params.value[2] + '<br/>' + params.value[3];
                }//数据的值
            },
            legend: {//图例
                data: state,
                top: '5%',
                selectedMode: false, // 图例设为不可点击
                textStyle: {
                    color: '#000'
                }
            },
            grid: {//绘图网格
                //left: '3%',
                //right: '3%',
                //top: '10%',
                //bottom: '0',
                //containLabel: false
            },
            xAxis: {
                type: 'time',
                scale: true,
                //interval: 3600  * 2000,   //以一个小时递增 
                interval: 3600  * 3000,   //以一个小时递增 
                min: '2009-6-1 1:00', //将data里最小时间的整点时间设为min,否则min会以data里面的min为开始进行整点递增
                axisLabel: {
                    formatter: function (value) {
                        var date = new Date(value); 
                        return getzf(date.getHours()) + ':00';
                        function getzf(num) {
                            if (parseInt(num) < 10) 
                            {
                                    num = '0' + num; 
                            }
                            return num;
                        }
                    }
                }
            },
            yAxis: {
                data: ['BK600', 'BK400', 'BK200', 'BK-PR96', 'BK-PR48', 'BK-HS96', 'BK-10D']
            },
            series: [

                { name: state[0], type: 'bar', data: [] },
                { name: state[1], type: 'bar', data: [] },
                { name: state[2], type: 'bar', data: [] },// 用空bar来显示三个图例
                {
                    type: 'custom',
                    renderItem: function (params, api) {//开发者自定义的图形元素渲染逻辑，是通过书写 renderItem 函数实的
                        var categoryIndex = api.value(0);//这里使用 api.value(0) 取出当前 dataItem 中第一个维度的数值。
                        var start = api.coord([api.value(1), categoryIndex]); // 这里使用 api.coord(...) 将数值在当前坐中换 为 幕点值。
                        var end = api.coord([api.value(2), categoryIndex]);
                        var height = api.size([0, 1])[1] * 0.6;

                        return {
                            type: 'rect',// 表示这个图形元素是矩形。还可以是 'circle', 'sector', 'polygon' 等等。
                            shape: echarts.graphic.clipRectByRect({ // 矩形的位置和大小。
                                x: start[0],
                                y: start[1] - height / 2,
                                width: end[0] - start[0],
                                height: height
                            }, { // 当前坐标系的包围盒。
                                x: params.coordSys.x,
                                y: params.coordSys.y,
                                width: params.coordSys.width,
                                height: params.coordSys.height
                            }),
                            style: api.style()
                        };
                    },
                    encode: {
                        x: [1, 2], // data 中『维度1』和『维度2』对应到 X 轴
                        y: 0// data 中『维度0』对应到 Y 轴
                    },
                    data: [ // 维度0 维度1 维度2
                        {
                            itemStyle: { normal: { color: colors[0] } },//条形颜色
                            name: '1#',
                            value: [0, '2009-06-01 1:00', '2009-06-01 5:00', 0]//0,1,2代表y轴的索引，后两位代表x轴数据始和束
                        }, {
                            itemStyle: { normal: { color: colors[1] } },
                            name: '1#',
                            value: [0, '2009-06-01 5:00', '2009-06-01 6:13', 0]
                        },
                        {
                            itemStyle: { normal: { color: colors[0] } },
                            name: '1#',
                            value: [0, '2009-06-01 6:13', '2009-06-01 8:22', 0]
                        },
                        {
                            itemStyle: { normal: { color: colors[2] } },
                            name: '1#',
                            value: [0, '2009-06-01 8:22', '2009-06-01 10:22', 0]
                        },
                        {
                            itemStyle: { normal: { color: colors[1] } },
                            name: '2#',
                            value: [1, '2009-06-01 5:00', '2009-06-01 6:13', 0]
                        },
                        {
                            itemStyle: { normal: { color: colors[1] } },
                            name: '2#',
                            value: [1, '2009-06-01 8:22', '2009-06-01 9:10', 0]
                        },
                        {
                            itemStyle: { normal: { color: colors[1] } },
                            name: '2#',
                            value: [1, '2009-06-01 12:47', '2009-06-01 14:52', 0]
                        },
                        {
                            itemStyle: { normal: { color: colors[0] } },
                            name: '3#',
                            value: [2, '2009-06-01 9:10', '2009-06-01 12:47', 0]
                        },
                        {
                            itemStyle: { normal: { color: colors[0] } },
                            name: '3#',
                            value: [2, '2009-06-01 14:52', '2009-06-01 17:00', 0]
                        },
                        {
                            "name": "3#",
                            "itemStyle": { "normal": { "color": "#C0C0C0" } },
                            "value": [2, "2009-06-01 00:00:00", "2009-06-01 03:27:39.0", "3\u5C0F\u65F627\u5206\u949F",0]
                        },
                        {
                            "name": "3#",
                            "itemStyle": { "normal": { "color": "#75d874" } },
                            "value": [2, "2009-06-01 03:27:39.0", "2009-06-01 23:59:59", "20\u5C0F\u65F632\u5206\u949F",1]
                        },
                    ]
                }
            ]
        };
        myChart.setOption(option, true);
       

        var chartDom = document.getElementById('mains');
        var myChart2 = echarts.init(chartDom);
        var option2;

        option2 = {
            title: {
                text: '产量'
            },
            tooltip: {
                trigger: 'axis'
            },
            legend: {
                data: ['BK600', 'BK400', 'BK200', 'BK-PR48', 'BK-PR96']
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            toolbox: {
            
            },
            xAxis: {
                type: 'category',
                boundaryGap: false,
                data: ['01', '02', '03', '04', '05', '06', '07','08', '09']
            },
            yAxis: {
                type: 'value'
            },
            series: [
                {
                name: 'BK600',
                type: 'line',
                stack: 'Total',
                //areaStyle: {},//堆叠面积
                emphasis: {focus: 'series'},//鼠标移入着重显示
                data: [120, 132, 101, 134, 90, 230, 210],
                itemStyle : { normal: {label : {show: false}}}//是否显示折线图上面的数字
                },
                {
                name: 'BK400',
                type: 'line',
                stack: 'Total',
                //areaStyle: {},//堆叠面积
                emphasis: {focus: 'series'},//鼠标移入着重显示
                data: [220, 182, 191, 234, 290, 330, 310],
                itemStyle : { normal: {label : {show: false}}}//是否显示折线图上面的数字
                },
                {
                name: 'BK200',
                type: 'line',
                stack: 'Total',
                //areaStyle: {},//堆叠面积
                emphasis: {focus: 'series'},//鼠标移入着重显示
                data: [150, 232, 201, 154, 190, 330, 410],
                itemStyle : { normal: {label : {show: false}}}//是否显示折线图上面的数字
                },
                {
                name: 'BK-PR48',
                type: 'line',
                stack: 'Total',
                //areaStyle: {},//堆叠面积
                emphasis: {focus: 'series'},//鼠标移入着重显示
                data: [320, 332, 301, 334, 390, 330, 320],
                itemStyle : { normal: {label : {show: false}}}//是否显示折线图上面的数字
                },
                {
                name: 'BK-PR96',
                type: 'line',
                stack: 'Total',
                //areaStyle: {},//堆叠面积
                emphasis: {focus: 'series'},//鼠标移入着重显示
                data: [820, 932, 901, 934, 1290, 1330, 1320],
                itemStyle : { normal: {label : {show: false}}}//是否显示折线图上面的数字
                }
            ]
        };

        option2 && myChart2.setOption(option2);



        // 基于准备好的dom，初始化echarts实例
        var line = echarts.init(document.getElementById('hegelv'));
        // 指定图表的配置项和数据
        lineOption = {
            backgroundColor: 'rgba(1,202,217,.2)',
            grid: {
                left: '5%',
                right: '8%',
                bottom: '7%',
                top:'8%',
                containLabel: true
            },
            toolbox: {
                },
            // 标题
            title: {
                text: '合格率'
            },
            legend: {
                data: ['A', 'B']
            },
            // 图例
            //tooltip: {
            //    show: true,
            //    trigger: "axis",
            //    backgroundColor: "#1677FF",
            //    // {a}（系列名称），{b}（类目值），{c}（数值）, {d}（无）
            //    formatter: "{b}：{c}%"
            //},
            xAxis: 
            [{
                type: 'category',
                boundaryGap: false,
                data: ['1', '3', '5', '7', '9', '11', '13', '15', '17', '19', '21', '23', '25', '27', '29', '31'],
                axisPointer: {
                    type: 'shadow'
                }
            }],
            yAxis: [
                {
                    type: 'value',
                    name: '',
                    min: 95,
                    max: 100,
                    interval: 1
                }                                   
            ],
            series: [
                {
                name: 'A',
                data: [99.5, 99.2, 99.3, 99, 100, 99.7, 99.9,99.5, 99.2, 99.3, 99, 100, 99.7, 99.9, 99.7, 99.9],
                type: 'line',
                smooth:true
                },
                {
                name: 'B',
                data: [99.5, 97.5, 98.5, 97.6, 96.5, 95.3, 97.9,98.5, 99.2, 98.3, 97, 100, 96.7, 95.9, 97.7, 98.9],
                type: 'line',
                smooth:true
                }
        ]
        };
        line.setOption(lineOption);


        var chartDom = document.getElementById('paichan');
        var myChart3 = echarts.init(chartDom);
        var option3;

        option3 = {
        tooltip: {
            trigger: 'axis',
            axisPointer: {
            type: 'cross',
            crossStyle: {
                color: '#999'
            }
            }
        },
        toolbox: {
            feature: {
            //dataView: { show: true, readOnly: false },//右上角数据视图
            //magicType: { show: true, type: ['line', 'bar'] },//变为折线图或者柱状图
            //restore: { show: true },//还原
            //saveAsImage: { show: true }//下载图片
            }
        },
        legend: {
            data: ['排产量', '完成量', '完成率']
        },
        xAxis: [
            {
            type: 'category',
            data: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'],
            axisPointer: {
                type: 'shadow'
            }
            }
        ],
        yAxis: [
            {
            type: 'value',//显示Y轴数据类型
            //name: '完成量',//显示Y轴数据名称
            min: 0,//最小数值
            max: 250,//最大数值
            interval: 50,//递增数据
            axisLabel: {
                formatter: '{value} 台'//显示格式
            }
            },
            {
            type: 'value',//显示Y轴数据类型
            //name: '完成率',//显示Y轴数据名称
            min: 0,//最小数值
            max: 25,//最大数值
            interval: 5,//递增数据
            axisLabel: {
                formatter: '{value} %'//显示格式
            }
            }
        ],
        series: [
            {
            name: '排产量',
            type: 'bar',
            tooltip: {
                valueFormatter: function (value) {
                return value + ' 台';
                }
            },
            data: [
                2.0, 4.9, 7.0, 23.2, 25.6, 76.7, 135.6, 162.2, 32.6, 20.0, 6.4, 3.3
            ]
            },
            {
            name: '完成量',
            type: 'bar',
            tooltip: {
                valueFormatter: function (value) {
                return value + ' 台';
                }
            },
            data: [
                2.6, 5.9, 9.0, 26.4, 28.7, 70.7, 175.6, 182.2, 48.7, 18.8, 6.0, 2.3
            ]
            },
            {
            name: '完成率',
            type: 'line',
            yAxisIndex: 1,
            tooltip: {
                valueFormatter: function (value) {
                return value + ' %';
                }
            },
            data: [2.0, 2.2, 3.3, 4.5, 6.3, 10.2, 20.3, 23.4, 23.0, 16.5, 12.0, 6.2]
            }
        ]
        };

        myChart3.setOption(option3);


   </script>
</html>