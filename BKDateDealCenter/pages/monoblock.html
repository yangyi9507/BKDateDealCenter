<!DOCTYPE html>
<html>
<head>
    <!--<meta charset="utf-8" http-equiv="Refresh" content="10000;URL=http://127.0.0.1/pages/analysis.html">-->
    <meta charset="utf-8">
    <script src="../Scripts/echarts0827.min.js"></script>
    <script src="../Scripts/dataTool.min.js"></script>
    <script src="../Scripts/china.js"></script>
    <script src="../Scripts/bmap.min.js"></script>
    <link href="../css/style.css" rel="stylesheet" type="text/css" media="all" />
    <script src="../Scripts/show.js"></script>
    <link href="../css/show.css" rel="stylesheet" type="text/css" media="all" />
    <script src="../Scripts/jquery-3.2.0.min.js"></script>

    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
        }

        .main {
            width: 100%;
            height: 100%;
            position: absolute;
        }

        .quarter-div {
            width: 46%;
            height: 44%;
            float: left;
            margin-left: 2%;
            margin-top: 8%;
            background-image: url(../img/aleftboxtmidd.png);
            background-repeat: no-repeat;
            background-size: 98% 98%;
            background-position: center;
        }

        .quarter-chil {
            width: 88%;
            height: 82%;
            margin-top: 0%;
            background: rgba(1,202,217,.2);
            margin-left: 6%;
        }

        .main > div:nth-of-type(1) {
            margin-top: 5.5%;
        }

        .main > div:nth-of-type(2) {
            margin-top: 5.5%;
        }

        .main > div:nth-of-type(3) {
            margin-top: 1%;
        }

        .main > div:nth-of-type(4) {
            margin-top: 1%;
        }

        h2 {
            margin-top: 1%;
            width: 100%;
            text-align: center;
            color: white;
        }

        #dateTime {
        }
    </style>
</head>
<body style="background:url(../img/bgkt.jpg);background-size:100% 100%">
    <div id="loading">
        <div id="loading_bg">
            <div class="loader">Loading...</div>
        </div>
    </div>
    <div class="main">

        <div class="quarter-div">
            <div style="text-align: left; color: white; height: 10%;margin-top:-5%;font-size:20px;display:none;">
                <label style="font-size:16px;">倒计时：</label>
                <label style="font-size:20px; color:red;" id="offtime3">30</label>
                <label style="font-size:16px;">秒，进入博科MES页面 </label>
            </div>
            <h2>排产计划</h2>
            <div class="quarter-chil" style="height: 80%;">
                <table style="height: 8%; margin-left: 5%; margin-bottom: 0%; width: 90%; border-bottom: 1px solid white; ">
                    <tr>
                        <td style="width: 25%;">型号</td>
                        <td style="width: 25%;">在产数量</td>
                        <td style="width: 25%;">在途数量</td>
                        <td style="width: 25%;">完成日期</td>
                    </tr>
                </table>

                <div style="overflow-y:hidden; height:90%; margin-left:5%;"
                     id="demo">
                    <div id="marquePic1">
                        <table id="t_body" style="width:95%">
                            <tr>
                                <td style="width: 25%;">酶标仪</td>
                                <td style="width: 25%;">在产126台</td>
                                <td style="width: 25%;">在途10台</td>
                                <td style="width: 25%;">完成日期:2022-09-22</td>
                            </tr>
                            <tr>
                                <td style="width: 25%;">BK-200</td>
                                <td style="width: 25%;">在产57台</td>
                                <td style="width: 25%;">在途200台</td>
                                <td style="width: 25%;">完成日期:2022-09-22</td>
                            </tr>
                            <tr>
                                <td style="width: 25%;">BK-400</td>
                                <td style="width: 25%;">在产160台</td>
                                <td style="width: 25%;">在途0台</td>
                                <td style="width: 25%;">完成日期:2022-10-25</td>
                            </tr>
                            <tr>
                                <td style="width: 25%;">BK-600</td>
                                <td style="width: 25%;">在产26台</td>
                                <td style="width: 25%;">在途100台</td>
                                <td style="width: 25%;">完成日期:2022-10-25</td>
                            </tr>
                            <tr>
                                <td style="width: 25%;">PR48</td>
                                <td style="width: 25%;">在产80台</td>
                                <td style="width: 25%;">在途50台</td>
                                <td style="width: 25%;">完成日期:2022-10-25</td>
                            </tr>
                            <tr>
                                <td style="width: 25%;">BK-PR96</td>
                                <td style="width: 25%;">在产2台</td>
                                <td style="width: 25%;">在途60台</td>
                                <td style="width: 25%;">完成日期:2023-01-10</td>
                            </tr>
                            <tr>
                                <td style="width: 25%;">BK-PR48P</td>
                                <td style="width: 25%;">在产45台</td>
                                <td style="width: 25%;">在途50台</td>
                                <td style="width: 25%;">完成日期:2022-11-22</td>
                            </tr>
                            <tr>
                                <td style="width: 25%;">BK-RT1000</td>
                                <td style="width: 25%;">在产60台</td>
                                <td style="width: 25%;">在途200台</td>
                                <td style="width: 25%;">完成日期:2022-09-22</td>
                            </tr>
                            <tr>
                                <td style="width: 25%;">酶标仪</td>
                                <td style="width: 25%;">在产126台</td>
                                <td style="width: 25%;">在途10台</td>
                                <td style="width: 25%;">完成日期:2022-09-22</td>
                            </tr>
                            <tr>
                                <td style="width: 25%;">BK-200</td>
                                <td style="width: 25%;">在产57台</td>
                                <td style="width: 25%;">在途200台</td>
                                <td style="width: 25%;">完成日期:2022-09-22</td>
                            </tr>
                            <tr>
                                <td style="width: 25%;">BK-400</td>
                                <td style="width: 25%;">在产160台</td>
                                <td style="width: 25%;">在途0台</td>
                                <td style="width: 25%;">完成日期:2022-10-25</td>
                            </tr>
                            <tr>
                                <td style="width: 25%;">BK-600</td>
                                <td style="width: 25%;">在产26台</td>
                                <td style="width: 25%;">在途100台</td>
                                <td style="width: 25%;">完成日期:2022-10-25</td>
                            </tr>
                            <tr>
                                <td style="width: 25%;">PR48</td>
                                <td style="width: 25%;">在产80台</td>
                                <td style="width: 25%;">在途50台</td>
                                <td style="width: 25%;">完成日期:2022-10-25</td>
                            </tr>
                            <tr>
                                <td style="width: 25%;">BK-PR96</td>
                                <td style="width: 25%;">在产2台</td>
                                <td style="width: 25%;">在途60台</td>
                                <td style="width: 25%;">完成日期:2023-01-10</td>
                            </tr>
                            <tr>
                                <td style="width: 25%;">BK-PR48P</td>
                                <td style="width: 25%;">在产45台</td>
                                <td style="width: 25%;">在途50台</td>
                                <td style="width: 25%;">完成日期:2022-11-22</td>
                            </tr>
                            <tr>
                                <td style="width: 25%;">BK-RT1000</td>
                                <td style="width: 25%;">在产60台</td>
                                <td style="width: 25%;">在途200台</td>
                                <td style="width: 25%;">完成日期:2022-09-22</td>
                            </tr>
                        </table>
                    </div>
                    <div id="marquePic2" valign="top"></div>
                </div>
            </div>

        </div>
        <div class="quarter-div">
            <div id="dateTime" style="text-align:center;color:white;font-size:20px;margin-top:-3%; width:40%;margin-left:60%;"> </div>
            <h2 style="margin-top:0;">排产</h2>
            <div class="quarter-chil" id="mains"></div>
        </div>
        <div class="quarter-div">
            <h2>产能</h2>
            <div class="quarter-chil" id="hegelv"></div>
        </div>
        <div class="quarter-div">
            <h2>当月效率</h2>
            <div class="quarter-chil" id="paichan"></div>
        </div>
    </div>
    <script type="text/javascript">
        //var dom = document.getElementById("container");
        //var myChart = echarts.init(dom);
        //var app = {};
        //var colors = ['#75d874', '#c0c0c0']; //三种状态的颜色
        //var state = ['运行', '停止']; //三种状态

        //// echart配置
        //var option = {

        //    color: colors,
        //    tooltip: {//提示框
        //        formatter: function (params) {
        //            return params.name + ':<br/>' + params.value[1] + '~' + params.value[2] + '<br/>' + params.value[3];
        //        }//数据的值
        //    },
        //    legend: {//图例
        //        data: state,
        //        top: '5%',
        //        selectedMode: false, // 图例设为不可点击
        //        textStyle: {
        //            color: '#ffffff'
        //        }
        //    },
        //    grid: {//绘图网格
        //        //left: '3%',
        //        //right: '3%',
        //        //top: '10%',
        //        //bottom: '0',
        //        //containLabel: false
        //    },
        //    xAxis: {
        //        type: 'time',
        //        scale: true,
        //        //interval: 3600  * 2000,   //以一个小时递增
        //        interval: 3600  * 3000,   //以一个小时递增
        //        min: '2009-6-1 00:00', //将data里最小时间的整点时间设为min,否则min会以data里面的min为开始进行整点递增
        //        axisLabel: {

        //            formatter: function (value) {
        //                var date = new Date(value);
        //                return getzf(date.getHours()) + ':00';
        //                function getzf(num) {
        //                    if (parseInt(num) < 10)
        //                    {
        //                            num = '0' + num;
        //                    }
        //                    return num;
        //                }
        //            }
        //        },
        //        axisLine: {
        //            lineStyle: {
        //                color:'white'
        //            }
        //        },

        //    },
        //    yAxis: {
        //        data: ['BK600', 'BK400', 'BK200', 'BK-PR96', 'BK-PR48', 'BK-HS96', 'BK-10D'],
        //          axisLine: {
        //            lineStyle: {
        //                  color: 'white'
        //            }
        //        },
        //    },
        //    series: [

        //        { name: state[0], type: 'bar', data: [] },
        //        { name: state[1], type: 'bar', data: [] },
        //        { name: state[2], type: 'bar', data: [] },// 用空bar来显示三个图例
        //        {
        //            type: 'custom',
        //            renderItem: function (params, api) {//开发者自定义的图形元素渲染逻辑，是通过书写 renderItem 函数实的
        //                var categoryIndex = api.value(0);//这里使用 api.value(0) 取出当前 dataItem 中第一个维度的数值。
        //                var start = api.coord([api.value(1), categoryIndex]); // 这里使用 api.coord(...) 将数值在当前坐中换 为 幕点值。
        //                var end = api.coord([api.value(2), categoryIndex]);
        //                var height = api.size([0, 1])[1] * 0.6;

        //                return {
        //                    type: 'rect',// 表示这个图形元素是矩形。还可以是 'circle', 'sector', 'polygon' 等等。
        //                    shape: echarts.graphic.clipRectByRect({ // 矩形的位置和大小。
        //                        x: start[0],
        //                        y: start[1] - height / 2,
        //                        width: end[0] - start[0],
        //                        height: height

        //                    }, { // 当前坐标系的包围盒。
        //                        x: params.coordSys.x,
        //                        y: params.coordSys.y,
        //                        width: params.coordSys.width,
        //                        height: params.coordSys.height
        //                    }),
        //                    style: api.style()
        //                };
        //            },
        //            encode: {
        //                x: [1, 2], // data 中『维度1』和『维度2』对应到 X 轴
        //                y: 0// data 中『维度0』对应到 Y 轴
        //            },
        //            data: [ // 维度0 维度1 维度2
        //                {
        //                    itemStyle: { normal: { color: colors[0] } },//条形颜色
        //                    name: '1#',
        //                    value: [0, '2009-06-01 1:00', '2009-06-01 5:00', 0]//0,1,2代表y轴的索引，后两位代表x轴数据始和束
        //                }, {
        //                    itemStyle: { normal: { color: colors[1] } },
        //                    name: '1#',
        //                    value: [0, '2009-06-01 5:00', '2009-06-01 6:13', 0]
        //                },
        //                {
        //                    itemStyle: { normal: { color: colors[0] } },
        //                    name: '1#',
        //                    value: [0, '2009-06-01 6:13', '2009-06-01 8:22', 0]
        //                },
        //                {
        //                    itemStyle: { normal: { color: colors[2] } },
        //                    name: '1#',
        //                    value: [0, '2009-06-01 8:22', '2009-06-01 10:22', 0]
        //                },
        //                {
        //                    itemStyle: { normal: { color: colors[1] } },
        //                    name: '2#',
        //                    value: [1, '2009-06-01 5:00', '2009-06-01 6:13', 0]
        //                },
        //                {
        //                    itemStyle: { normal: { color: colors[1] } },
        //                    name: '2#',
        //                    value: [1, '2009-06-01 8:22', '2009-06-01 9:10', 0]
        //                },
        //                {
        //                    itemStyle: { normal: { color: colors[1] } },
        //                    name: '2#',
        //                    value: [1, '2009-06-01 12:47', '2009-06-01 23:52', 0]
        //                }
        //            ]
        //        }
        //    ]
        //};
        //myChart.setOption(option, true);


        var chartDom = document.getElementById('mains');
        var myChart2 = echarts.init(chartDom);
        var option2;

        option2 = {

            tooltip: {
                trigger: 'axis'
            },
            legend: {
                data: ['BK600', 'BK400', 'BK200', 'BK-PR48', 'BK-PR96'],
                textStyle: {
                    color: "white",
                    fontsize: 14


                }
            },
            grid: {
                top: '10%',
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            toolbox: {

            },
            xAxis: {
                type: 'category',
                boundaryGap: false,
                data: ['01', '02', '03', '04', '05', '06', '07', '08', '09'],
                axisLine: {
                    lineStyle: {
                        color: 'white'
                    }
                },
            },
            yAxis: {
                type: 'value',
                axisLine: {
                    lineStyle: {
                        color: 'white'
                    }
                },
            },
            series: [
                {
                    name: 'BK600',
                    type: 'line',
                    stack: 'Total',

                    //areaStyle: {},//堆叠面积
                    emphasis: { focus: 'series' },//鼠标移入着重显示
                    data: [120, 132, 101, 134, 90, 230, 210],
                    smooth: true,
                    itemStyle: {
                        normal: {
                            label: { show: true },

                        }
                    }//是否显示折线图上面的数字
                },
                {
                    name: 'BK400',
                    type: 'line',
                    stack: 'Total',

                    //areaStyle: {},//堆叠面积
                    emphasis: { focus: 'series' },//鼠标移入着重显示
                    data: [220, 182, 191, 234, 290, 330, 310],
                    smooth: true,
                    itemStyle: {
                        normal: {
                            label: { show: true },
                            color: 'rgba(230,253,139,.7)'
                        }
                    }//是否显示折线图上面的数字
                },
                {
                    name: 'BK200',
                    type: 'line',
                    stack: 'Total',

                    //areaStyle: {},//堆叠面积
                    emphasis: { focus: 'series' },//鼠标移入着重显示
                    data: [150, 232, 201, 154, 190, 330, 410],
                    smooth: true,
                    itemStyle: {
                        normal: {
                            label: {
                                show: true,
                            },
                            color: '#1EA362'
                        }
                    }//是否显示折线图上面的数字
                },
                {
                    name: 'BK-PR48',
                    type: 'line',
                    stack: 'Total',
                    //areaStyle: {},//堆叠面积
                    emphasis: { focus: 'series' },//鼠标移入着重显示
                    data: [320, 332, 301, 334, 390, 330, 320],
                    smooth: true,
                    itemStyle: {
                        normal: {
                            textStyle: { color: 'white' },
                            label: { show: true },
                            color: '#F5A115'
                        }
                    }//是否显示折线图上面的数字
                },
                {
                    name: 'BK-PR96',
                    type: 'line',
                    stack: 'Total',
                    //areaStyle: {},//堆叠面积
                    emphasis: { focus: 'series' },//鼠标移入着重显示
                    data: [820, 932, 901, 934, 1290, 1330, 1320],
                    smooth: true,
                    itemStyle: {
                        normal: {
                            label: { show: true },
                            color: '#BF8FF3'
                        }
                    }//是否显示折线图上面的数字
                }
            ]
        };

        option2 && myChart2.setOption(option2);



        // 基于准备好的dom，初始化echarts实例
        var line = echarts.init(document.getElementById('hegelv'));
        // 指定图表的配置项和数据
        lineOption = {
            backgroundColor: 'rgba(1,202,217,.2)',
            grid: {
                left: '5%',
                right: '8%',
                bottom: '7%',
                top: '8%',
                containLabel: true
            },
            toolbox: {
            },
            // 标题

            legend: {
                data: ['A', 'B'],
                textStyle: {
                    color: "white",
                    fontsize: 14
                }

            },
            // 图例
            //tooltip: {
            //    show: true,
            //    trigger: "axis",
            //    backgroundColor: "#1677FF",
            //    // {a}（系列名称），{b}（类目值），{c}（数值）, {d}（无）
            //    formatter: "{b}：{c}%"
            //},
            xAxis:
                [{
                    type: 'category',
                    boundaryGap: false,
                    data: ['1', '3', '5', '7', '9', '11', '13', '15', '17', '19', '21', '23', '25', '27', '29', '31'],
                    axisPointer: {
                        type: 'shadow'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'white'
                        }
                    },

                }],
            yAxis: [
                {
                    type: 'value',
                    name: '',
                    min: 0,
                    max: 100,
                    interval: 10,
                    axisLine: {
                        lineStyle: {
                            color: 'white'
                        }
                    },
                },

            ],
            series: [
                {
                    name: 'A',
                    data: [95, 89, 82, 99, 100, 83, 86, 91, 83, 99, 97, 89, 92, 89, 98, 82],
                    type: 'line',
                    smooth: true,
                    itemStyle: {
                        normal: {
                            label: { show: false },
                            color: '#FFFF00'
                        }
                    }
                },
                {
                    name: 'B',
                    data: [97, 89, 92, 89, 98, 82, 90, 100, 98, 91, 92, 91, 81, 88, 85, 93, 92],
                    type: 'line',
                    smooth: true,
                    itemStyle: {
                        normal: {
                            label: { show: false },
                            color: '#1EA362'
                        }
                    }
                }
            ]
        };
        line.setOption(lineOption);


        var chartDom = document.getElementById('paichan');
        var myChart3 = echarts.init(chartDom);
        var option3;

        option3 = {
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross',
                    crossStyle: {
                        color: '#ffffff'
                    }
                }
            },
            toolbox: {
                feature: {
                    //dataView: { show: true, readOnly: false },//右上角数据视图
                    //magicType: { show: true, type: ['line', 'bar'] },//变为折线图或者柱状图
                    //restore: { show: true },//还原
                    //saveAsImage: { show: true }//下载图片
                }
            },
            legend: {
                data: ['排产量', '完成量', '完成率'],
                textStyle: {
                    color: "white",
                    fontsize: 14
                }
            },
            grid: {//绘图网格
                left: '10%',
                right: '10%',
                top: '10%',
                bottom: '10%',

                containLabel: false
            },
            xAxis: [
                {
                    type: 'category',
                    data: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'],
                    axisPointer: {
                        type: 'shadow'
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'white'
                        }
                    },
                }
            ],
            yAxis: [
                {
                    type: 'value',//显示Y轴数据类型
                    //name: '完成量',//显示Y轴数据名称
                    min: 0,//最小数值
                    max: 160,//最大数值
                    interval: 20,//递增数据
                    axisLabel: {
                        formatter: '{value} 台'//显示格式
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'white'
                        }
                    },
                },
                {
                    type: 'value',//显示Y轴数据类型
                    //name: '完成率',//显示Y轴数据名称
                    min: 70,//最小数值
                    max: 150,//最大数值
                    interval: 10,//递增数据
                    axisLabel: {
                        formatter: '{value} %'//显示格式
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'white'
                        }
                    },

                }
            ],
            series: [
                {
                    name: '排产量',
                    type: 'bar',
                    tooltip: {
                        valueFormatter: function (value) {
                            return value + ' 台';
                        }
                    },
                    data: [
                        100, 88, 98, 93, 89, 80, 89, 89, 92, 95, 82, 95, 78, 85, 90, 90, 83, 95
                    ],
                    itemStyle: {
                        normal: {
                            label: { show: false },
                            color: 'rgba(41,220,205,.7)'
                        }
                    }
                },
                {
                    name: '完成量',
                    type: 'bar',
                    tooltip: {
                        valueFormatter: function (value) {
                            return value + ' 台';
                        }
                    },
                    data: [
                        98, 97, 89, 92, 89, 98, 82, 90, 100, 98, 91, 92, 91, 81, 88, 85, 93, 92
                    ],
                    itemStyle: {
                        normal: {
                            label: { show: false },
                            color: 'rgba(230,253,139,.7)'
                        }
                    }
                },
                {
                    name: '完成率',
                    type: 'line',
                    yAxisIndex: 1,
                    tooltip: {
                        valueFormatter: function (value) {
                            return value + ' %';
                        }
                    },
                    data: [98, 101, 91, 99, 100, 123, 92, 101, 109, 103, 111, 97, 117, 95, 98, 94, 112, 97],
                    smooth: true,
                    itemStyle: {
                        normal: {
                            label: { show: false },
                            color: '#FFFF00'
                        }
                    }
                }
            ]
        };

        myChart3.setOption(option3);
        var offtimeInt3 = 30;
        Date.prototype.format = function (fmt) {
            var o = {
                "y+": this.getFullYear, //年
                "M+": this.getMonth() + 1, //月份
                "d+": this.getDate(), //日
                "h+": this.getHours(), //小时
                "m+": this.getMinutes(), //分
                "s+": this.getSeconds() //秒
            };
            if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
            for (var k in o)
                if (new RegExp("(" + k + ")").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));

            offtimeInt3 = offtimeInt3 - 1;
            document.getElementById('offtime3').innerHTML = offtimeInt3;
            return fmt;
        }
        setInterval("document.getElementById('dateTime').innerHTML = (new Date()).format('yyyy-MM-dd hh:mm:ss');", 1000);
        function change(table) {
            var row = table.insertRow(table.rows.length);
            for (j = 0; j < table.row.length; j++) {

            }
        }


        //纵向滚动 需要设置div的高度
        var speed = 40;
        var oldvalue = 0; //滚动条初始值   如果初始值和变化后的数值一样证明到达了滚动条的最大数值
        marquePic2.innerHTML = marquePic1.innerHTML;
        function Marquee() {
            if (oldvalue >= marquePic1.scrollHeight) {
                demo.scrollTop = 0;
                oldvalue = 0;
            } else {
                oldvalue = demo.scrollTop;
                demo.scrollTop++;
                if (demo.scrollTop == oldvalue) {
                    oldvalue = marquePic1.scrollHeight;
                }
            }
        }
        var MyMar = setInterval(Marquee, speed);

    </script>
</body>
   
</html>